<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Consultive | Understanding Rails Active Record Associations</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css">
    <!-- Google fonts-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,700&amp;display=swap">
    <!-- Modal Video-->
    <link rel="stylesheet" href="/assets/vendor/modal-video/css/modal-video.min.css">
    <!-- Leaflet-->
    <link rel="stylesheet" href="/assets/vendor/leaflet/leaflet.css">
    <!-- Owl Carousel-->
    <link rel="stylesheet" href="/assets/vendor/owl.carousel2/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="/assets/vendor/owl.carousel2/assets/owl.theme.default.min.css">
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="/assets/css/style.violet.css" id="theme-stylesheet">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="/assets/css/custom.css">
    <link href="/assets/css/prism.css" rel="stylesheet">
    <!-- Favicon-->
    <link rel="shortcut icon" href="/assets/img/favicon.png">
    <!-- Tweaks for older IEs-->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
</head>

<body>
    <!-- navbar-->
    <header class="header">
        <div class="top-bar bg-dark text-white">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4 bg-primary py-2 text-center text-lg-left">
                        <p class="mb-0 text-small"><i class="fas fa-clock mr-2"></i>Opening hours: Mon - Fri 9:00 a.m. -
                            5:00 p.m.</p>
                    </div>
                    <div class="col-lg-8 text-right py-2 text-center text-lg-right">
                        <ul class="list-inline mb-0">
                            <li class="list-inline-item"><a class="font-weight-normal text-small reset-anchor"
                                    href="tel:(&#057;&#048;&#056;)&#032;&#051;&#055;&#054;&#045;&#054;&#053;&#054;&#054;"><i class="fas fa-mobile mr-2"></i>‪(&#057;&#048;&#056;)&#032;&#051;&#055;&#054;&#045;&#054;&#053;&#054;&#054;</a></li>
                            <li class="list-inline-item">|</li>
                            <li class="list-inline-item"><a class="font-weight-normal text-small reset-anchor"
                                    href="mailto:&#104;&#101;&#051;&#101;&#114;&#115;&#064;&#103;&#109;&#097;&#105;&#108;&#046;&#099;&#111;&#109;"><i class="fas fa-envelope mr-2"></i>&#104;&#101;&#051;&#101;&#114;&#115;&#064;&#103;&#109;&#097;&#105;&#108;&#046;&#099;&#111;&#109;</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <nav class="navbar navbar-expand-lg navbar-light py-3 bg-white shadow-sm">
            <div class="container"><a class="navbar-brand" href="/"><img src="/assets/img/logo.svg" alt="" width="200"></a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item mx-2 active"><a class="nav-link text-uppercase" href="/">Home </a>
                        </li>
                        <li class="nav-item mx-2"><a class="nav-link text-uppercase" href="/about">About</a></li>
                        <li class="nav-item mx-2"><a class="nav-link text-uppercase" href="/contact">Contact</a></li>
                        <li class="nav-item mx-2"><a class="nav-link text-uppercase" href="/blog">Blog</a>
                        <li class="nav-item ml-lg-3 pl-lg-3"><a class="btn btn-outline-primary btn-sm" href="/contact">Request a quote</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    
<section id="page-title" class="page-title">
    <div class="bg-title">
        <div class="container">
            <div class="title">
                <h1>Single Post</h1>
            </div><!-- End .title -->
            <div class="breadcrumb">
                <ul>
                    <li><a href="/blog">Blog</a></li>
                    <li>Understanding Rails Active Record Associations</li>
                </ul>
            </div>
        </div> <!-- End .conatainer -->
    </div>
</section>
<!--
=====================
    End Page Title
=====================
-->
<section id="content">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="primary">
                    <div class="blog-post">
                        <div class="thum-item">
                            <img src="/assets/img/blog/water-lily.jpg" width="600" height="200" class="img-fluid" alt="Post Thumnail Image">
                        </div> <!-- End .thum-item -->
                        <div class="post">
                            <div class="blog-title">
                                <h2>Understanding Rails Active Record Associations</h2>
                            </div>
                            <div class="meta">
                                <ul>
                                    <!-- <li class="category"><a href="archive.html">Lifestyle</a></li> -->
                                    <li class="author">By Héber Sandoval</li>
                                    <li class="date">September 1, 2016</li>
                                </ul>
                            </div> <!-- End .meta -->
                            <div class="content">

                                <!-- Excerpt Start -->
<p>To understand the way Active Record associations work in <code>rails</code>, I had to use a real world example that made sense to me. In this case, I used a recipe scenario, where a recipe is made up of many ingredients. So, here is how I broke it down to cement this concept.</p>
<!-- Excerpt End -->
<h2>How I Understand Associations in Rails</h2>
<p>As I thought about how to make the tables in the database to relate to one another, I ran into a problem. I needed a way to express that a recipe can have lots of ingredients. So, in my first attempt, I created a column named <code>recipe_id</code> in the ingredients_table using the macro-like class method for tying objects together through foreign keys.This would be expressed like this in model:</p>
<pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Ingredient</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span><br>  belongs_to <span class="token symbol">:recipe</span><br><span class="token keyword">end</span></code></pre>
<p>The <code>recipe_id</code> column is also referred as the <code>foreign key</code>. This column references which recipe a particular  ingredient belongs to. The tables would look like this:</p>
<p>ingredients_table</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">id</span> <span class="token operator">|</span>     name   <span class="token operator">|</span> recipe_id <span class="token operator">|</span><br>---+------------+-----------+<br><span class="token number">1</span>  <span class="token operator">|</span>  Tomatoes  <span class="token operator">|</span>      <span class="token number">1</span>    <span class="token operator">|</span><br><span class="token number">2</span>  <span class="token operator">|</span>  Garlic    <span class="token operator">|</span>      <span class="token number">1</span>    <span class="token operator">|</span></code></pre>
<p>recipes_table</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">id</span> <span class="token operator">|</span>   name   <span class="token operator">|</span><br>---+----------+<br><span class="token number">1</span>  <span class="token operator">|</span>  Lasagna <span class="token operator">|</span></code></pre>
<p>Here, the ingredient <code>Tomatoes</code> is pointing to the <code>Lasagna</code> recipe. Adding <code>pasta</code>, <code>garlic</code>, <code>cheese</code> and any other ingredient needed for this recipe, would need to have a value of <code>1</code> in the <code>recipe_id</code> column of the ingredients_table to refer to the <code>Lasagna</code> in the recipes_table. But what would happen when I want to save my grandma's Pot Pie recipe, that also uses tomatoes, in the database?</p>
<p>ingredients_table</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">id</span> <span class="token operator">|</span>     name   <span class="token operator">|</span> recipe_id <span class="token operator">|</span><br>---+------------+-----------+<br><span class="token number">1</span>  <span class="token operator">|</span>  Tomatoes  <span class="token operator">|</span>   <span class="token number">1</span>, <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token operator">|</span></code></pre>
<p>recipes_table</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">id</span> <span class="token operator">|</span>    name    <span class="token operator">|</span><br>---+------------+<br><span class="token number">1</span>  <span class="token operator">|</span>  Lasagna   <span class="token operator">|</span><br><span class="token number">2</span>  <span class="token operator">|</span>  Pot Pie   <span class="token operator">|</span></code></pre>
<p>Now, I'm forced to create another column in the ingredients_table to hold the ingredient from my grandma's recipe or spell tomatoes differently, maybe by dropping the &quot;e&quot; or just store another ingredient with same name. But that's very sloppy and a nightmare to maintain. So, in my second attempt, I used a many-to-many association, to solve this problem. So the best solution, in this case, is to create a <code>join table</code>, which I called <code>pantries</code> that will hold the foreign keys. I'll use the macro-like <code>has_many</code> class method with the <code>:through</code> option on the recipes_table and the ingredients_table.</p>
<p>Here is how the tables looks now:</p>
<p>ingredients_table</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">id</span> <span class="token operator">|</span>     name   <span class="token operator">|</span><br>---+------------+<br><span class="token number">1</span>  <span class="token operator">|</span>  Tomatoes  <span class="token operator">|</span></code></pre>
<p>pantries_table</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">id</span> <span class="token operator">|</span> recipe_id <span class="token operator">|</span> ingredient_id <span class="token operator">|</span><br>---+------------+--------------+<br><span class="token number">1</span>  <span class="token operator">|</span>     <span class="token number">1</span>      <span class="token operator">|</span>     <span class="token number">1</span>        <span class="token operator">|</span><br><span class="token number">2</span>  <span class="token operator">|</span>     <span class="token number">2</span>      <span class="token operator">|</span>     <span class="token number">1</span>        <span class="token operator">|</span></code></pre>
<p>recipes_table</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">id</span> <span class="token operator">|</span>     name   <span class="token operator">|</span><br>---+------------+<br><span class="token number">1</span>  <span class="token operator">|</span>  Lasagna   <span class="token operator">|</span><br><span class="token number">2</span>  <span class="token operator">|</span>  Pot Pie   <span class="token operator">|</span></code></pre>
<p>Now I can add my grandma's Pot Pie recipe, that needs those tomatoes to taste great, to the database. But this time, the ingredient that is associated to the Pot Pie recipe, will be stored the <code>join table</code> called pantries. As you can see, the Lasagna and the Pot Pie use <code>tomatoes</code> in their recipes. And now, one ingredient is pointing to a different recipe in the pantries_table, all possible through the <code>join table</code> foreign key columns.</p>
<h3>Putting This Understanding Into Practice</h3>
<p>To connect all these tables together so <code>rails</code> can talk to the database, I need to include the macro-like class methods in each corresponding model as shown below.</p>
<h3>Recipe Model</h3>
<pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Recipe</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span><br>  has_many <span class="token symbol">:pantries</span><br>  has_many <span class="token symbol">:ingredients</span><span class="token punctuation">,</span> through<span class="token punctuation">:</span> <span class="token symbol">:pantries</span><br><span class="token keyword">end</span></code></pre>
<p>Lets test this model out.</p>
<p>Creating a recipe:</p>
<pre class="language-bash"><code class="language-bash">$ recipe <span class="token operator">=</span> Recipe.create name: <span class="token string">"Lasagna"</span><br><br><span class="token punctuation">(</span><span class="token number">0</span>.1ms<span class="token punctuation">)</span>  SAVEPOINT active_record_1<br>SQL <span class="token punctuation">(</span><span class="token number">0</span>.5ms<span class="token punctuation">)</span>  INSERT INTO <span class="token string">"recipes"</span> <span class="token punctuation">(</span><span class="token string">"name"</span>, <span class="token string">"created_at"</span>, <span class="token string">"updated_at"</span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span>?, ?, ?<span class="token punctuation">)</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"name"</span>, <span class="token string">"Lasagna"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"created_at"</span>, <span class="token string">"2016-09-12 02:36:47.743490"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"updated_at"</span>, <span class="token string">"2016-09-12 02:36:47.743490"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><span class="token punctuation">(</span><span class="token number">0</span>.1ms<span class="token punctuation">)</span>  RELEASE SAVEPOINT active_record_1<br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;Recipe id: 1, name: "Lasagna", created_at: "2016-09-12 02:36:47", updated_at: "2016-09-12 02:36:47"></span></code></pre>
<p>When creating a recipe, rails executed an SQL command as noted above. This says, to INSERT the VALUE of <code>Lasagna</code> INTO the <code>name</code> column of the recipes_table. The other columns will be auto-generated by rails, as seen by the output of the rails console.</p>
<p>Because a recipe can have many ingredients through its join table, we can create its associated ingredient, in this manner:</p>
<p>To create an ingredient with its associated recipe:</p>
<pre class="language-bash"><code class="language-bash">$ recipe.ingredients.create name: <span class="token string">"Tomatoes"</span><br><br><span class="token punctuation">(</span><span class="token number">0</span>.1ms<span class="token punctuation">)</span>  SAVEPOINT active_record_1<br>SQL <span class="token punctuation">(</span><span class="token number">0</span>.4ms<span class="token punctuation">)</span>  INSERT INTO <span class="token string">"ingredients"</span> <span class="token punctuation">(</span><span class="token string">"name"</span>, <span class="token string">"created_at"</span>, <span class="token string">"updated_at"</span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span>?, ?, ?<span class="token punctuation">)</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"name"</span>, <span class="token string">"Tomatoes"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"created_at"</span>, <span class="token string">"2016-09-12 02:40:19.153429"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"updated_at"</span>, <span class="token string">"2016-09-12 02:40:19.153429"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><br>SQL <span class="token punctuation">(</span><span class="token number">0</span>.3ms<span class="token punctuation">)</span>  INSERT INTO <span class="token string">"pantries"</span> <span class="token punctuation">(</span><span class="token string">"recipe_id"</span>, <span class="token string">"ingredient_id"</span>, <span class="token string">"created_at"</span>, <span class="token string">"updated_at"</span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span>?, ?, ?, ?<span class="token punctuation">)</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"recipe_id"</span>, <span class="token number">1</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"ingredient_id"</span>, <span class="token number">1</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"created_at"</span>, <span class="token string">"2016-09-12 02:40:19.167678"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"updated_at"</span>, <span class="token string">"2016-09-12 02:40:19.167678"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><span class="token punctuation">(</span><span class="token number">0</span>.1ms<span class="token punctuation">)</span>  RELEASE SAVEPOINT active_record_1<br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;Ingredient id: 1, name: "Tomatoes", created_at: "2016-09-12 02:40:19", updated_at: "2016-09-12 02:40:19"></span></code></pre>
<p>The SQL commands executed, sheds some light on what happen behind the scene of this association. The first one says, INSERT the VALUE of <code>Tomatoes</code> INTO the <code>name</code> column of the ingredients_table. Again, the other columns are auto-generated by rails. The second says, INSERT the VALUES <code>1</code> and <code>1</code> INTO the <code>recipe_id</code> and <code>ingredient_id</code> columns of the pantries_table, respectively. This was auto-generated and managed by rails because of the way we structured our models and how we utilize the Active Record association macro-like class methods.</p>
<p>To check if our association worked on the recipe's ingredients:</p>
<pre class="language-bash"><code class="language-bash">$ recipe.ingredients<br><br>Ingredient Load <span class="token punctuation">(</span><span class="token number">0</span>.4ms<span class="token punctuation">)</span>  SELECT <span class="token string">"ingredients"</span>.* FROM <span class="token string">"ingredients"</span> INNER JOIN <span class="token string">"pantries"</span> ON <span class="token string">"ingredients"</span><span class="token builtin class-name">.</span><span class="token string">"id"</span> <span class="token operator">=</span> <span class="token string">"pantries"</span><span class="token builtin class-name">.</span><span class="token string">"ingredient_id"</span> WHERE <span class="token string">"pantries"</span><span class="token builtin class-name">.</span><span class="token string">"recipe_id"</span> <span class="token operator">=</span> ?  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"recipe_id"</span>, <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;ActiveRecord::Associations::CollectionProxy [#&lt;Ingredient id: 1, name: "Tomatoes", created_at: "2016-09-12 02:40:19", updated_at: "2016-09-12 02:40:19">]></span></code></pre>
<p>And there you have it!</p>
<h3>Pantry Model</h3>
<pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Pantry</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span><br>  belongs_to <span class="token symbol">:recipe</span><br>  belongs_to <span class="token symbol">:ingredient</span><br><span class="token keyword">end</span></code></pre>
<p>Lets test this model out.</p>
<p>To check the Pantry's associations:</p>
<pre class="language-bash"><code class="language-bash"> $ Pantry.all<br><br> Pantry Load <span class="token punctuation">(</span><span class="token number">0</span>.3ms<span class="token punctuation">)</span>  SELECT <span class="token string">"pantries"</span>.* FROM <span class="token string">"pantries"</span><br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;ActiveRecord::Relation [#&lt;Pantry id: 1, recipe_id: 1, ingredient_id: 1, created_at: "2016-09-12 02:40:19", updated_at: "2016-09-12 02:40:19">, #&lt;Pantry id: 2, recipe_id: 2, ingredient_id: 2, created_at: "2016-09-12 03:02:59", updated_at: "2016-09-12 03:02:59">]></span></code></pre>
<p>So far, we have two pantries that are joining a recipe to an ingredient, respectively. If you want to create a Pantry then assign a associated recipe and ingredient, here's how we do it.</p>
<pre class="language-bash"><code class="language-bash">$ pantry <span class="token operator">=</span> Pantry.create<br><br><span class="token punctuation">(</span><span class="token number">0</span>.1ms<span class="token punctuation">)</span>  SAVEPOINT active_record_1<br>SQL <span class="token punctuation">(</span><span class="token number">0</span>.3ms<span class="token punctuation">)</span>  INSERT INTO <span class="token string">"pantries"</span> <span class="token punctuation">(</span><span class="token string">"created_at"</span>, <span class="token string">"updated_at"</span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span>?, ?<span class="token punctuation">)</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"created_at"</span>, <span class="token string">"2016-09-12 03:09:26.118106"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"updated_at"</span>, <span class="token string">"2016-09-12 03:09:26.118106"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><span class="token punctuation">(</span><span class="token number">0</span>.2ms<span class="token punctuation">)</span>  RELEASE SAVEPOINT active_record_1<br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;Pantry id: 3, recipe_id: nil, ingredient_id: nil, created_at: "2016-09-12 03:09:26", updated_at: "2016-09-12 03:09:26"></span></code></pre>
<p>What the console outputs: Here an SQL command is been executed. It says, &quot;INSERT this timestamp value of &quot;2016-09-12 00:41:27.424544&quot; INTO the &quot;created_at&quot; column of the &quot;pantries&quot; table&quot;. The same goes with the &quot;updated_at&quot; column.</p>
<p>Now, to add a recipe:</p>
<pre class="language-bash"><code class="language-bash">$ pantry.recipe <span class="token operator">=</span> pizza<br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;Recipe id: 3, name: "Pizza", created_at: "2016-09-12 03:11:20", updated_at: "2016-09-12 03:11:20"></span><br><br>$ pantry<br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;Pantry id: 3, recipe_id: 3, ingredient_id: nil, created_at: "2016-09-12 03:09:26", updated_at: "2016-09-12 03:09:26"></span></code></pre>
<p>Now, to add and ingredient:</p>
<pre class="language-bash"><code class="language-bash">$ pantry.ingredient <span class="token operator">=</span> cheese<br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;Ingredient id: 3, name: "Cheese", created_at: "2016-09-12 03:11:57", updated_at: "2016-09-12 03:11:57"></span><br><br>$ pantry<br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;Pantry id: 3, recipe_id: 3, ingredient_id: 3, created_at: "2016-09-12 03:09:26", updated_at: "2016-09-12 03:09:26"></span></code></pre>
<p>In both cases, rails auto-generated and managed the foreign key values for <code>recipe_id</code> and  <code>ingredient_id</code> columns.</p>
<h3>Ingredient Model</h3>
<pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">Ingredient</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span><br>  has_many <span class="token symbol">:pantries</span><br>  has_many <span class="token symbol">:recipes</span><span class="token punctuation">,</span> through<span class="token punctuation">:</span> <span class="token symbol">:pantries</span><br><span class="token keyword">end</span></code></pre>
<p>Lets test this model out.</p>
<p>Creating an ingredient:</p>
<pre class="language-bash"><code class="language-bash">$ ingredient <span class="token operator">=</span> Ingredient.create name: <span class="token string">"Carrots"</span><br><br><span class="token punctuation">(</span><span class="token number">0</span>.2ms<span class="token punctuation">)</span>  SAVEPOINT active_record_1<br>SQL <span class="token punctuation">(</span><span class="token number">0</span>.3ms<span class="token punctuation">)</span>  INSERT INTO <span class="token string">"ingredients"</span> <span class="token punctuation">(</span><span class="token string">"name"</span>, <span class="token string">"created_at"</span>, <span class="token string">"updated_at"</span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span>?, ?, ?<span class="token punctuation">)</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"name"</span>, <span class="token string">"Carrots"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"created_at"</span>, <span class="token string">"2016-09-12 03:00:54.466500"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"updated_at"</span>, <span class="token string">"2016-09-12 03:00:54.466500"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><span class="token punctuation">(</span><span class="token number">0</span>.1ms<span class="token punctuation">)</span>  RELEASE SAVEPOINT active_record_1<br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;Ingredient id: 2, name: "Carrots", created_at: "2016-09-12 03:00:54", updated_at: "2016-09-12 03:00:54"></span></code></pre>
<p>When creating an ingredient, rails executed an SQL command as noted above. This says, to INSERT the VALUE of <code>Carrots</code> INTO the <code>name</code> column of the ingredients_table. The other columns will be auto-generated by rails, as seen by the output of the rails console.</p>
<p>Because an ingredient can have many recipes through its join table, we can create its associated recipe, in this manner:</p>
<pre class="language-bash"><code class="language-bash">$ ingredient.recipes.create name: <span class="token string">"Pot Pie"</span><br><br><span class="token punctuation">(</span><span class="token number">0</span>.2ms<span class="token punctuation">)</span>  SAVEPOINT active_record_1<br>SQL <span class="token punctuation">(</span><span class="token number">0</span>.2ms<span class="token punctuation">)</span>  INSERT INTO <span class="token string">"recipes"</span> <span class="token punctuation">(</span><span class="token string">"name"</span>, <span class="token string">"created_at"</span>, <span class="token string">"updated_at"</span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span>?, ?, ?<span class="token punctuation">)</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"name"</span>, <span class="token string">"Pot Pie"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"created_at"</span>, <span class="token string">"2016-09-12 03:02:59.150882"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"updated_at"</span>, <span class="token string">"2016-09-12 03:02:59.150882"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><br>SQL <span class="token punctuation">(</span><span class="token number">0</span>.3ms<span class="token punctuation">)</span>  INSERT INTO <span class="token string">"pantries"</span> <span class="token punctuation">(</span><span class="token string">"ingredient_id"</span>, <span class="token string">"recipe_id"</span>, <span class="token string">"created_at"</span>, <span class="token string">"updated_at"</span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span>?, ?, ?, ?<span class="token punctuation">)</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"ingredient_id"</span>, <span class="token number">2</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"recipe_id"</span>, <span class="token number">2</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"created_at"</span>, <span class="token string">"2016-09-12 03:02:59.154880"</span><span class="token punctuation">]</span>, <span class="token punctuation">[</span><span class="token string">"updated_at"</span>, <span class="token string">"2016-09-12 03:02:59.154880"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><span class="token punctuation">(</span><span class="token number">0</span>.1ms<span class="token punctuation">)</span>  RELEASE SAVEPOINT active_record_1<br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;Recipe id: 2, name: "Pot Pie", created_at: "2016-09-12 03:02:59", updated_at: "2016-09-12 03:02:59"></span></code></pre>
<p>The SQL commands executed, sheds some light on what happen behind the scene of this association. The first one says, to INSERT the VALUE of <code>Pot Pie</code> INTO the <code>name</code> column of the recipes_table. Again, the other columns are auto-generated by rails. The second says, to INSERT the VALUES <code>2</code> and <code>2</code> INTO the <code>ingredient_id</code> and <code>recipe_id</code> columns of the pantries_table, respectively. This was auto-generated and managed by rails because of the way we structured our models and how we utilize the Active Record association macro-like class methods.</p>
<p>To check if our association worked on the ingredient's recipes:</p>
<pre class="language-bash"><code class="language-bash">$ ingredient.recipes<br><br>Recipe Load <span class="token punctuation">(</span><span class="token number">0</span>.5ms<span class="token punctuation">)</span>  SELECT <span class="token string">"recipes"</span>.* FROM <span class="token string">"recipes"</span> INNER JOIN <span class="token string">"pantries"</span> ON <span class="token string">"recipes"</span><span class="token builtin class-name">.</span><span class="token string">"id"</span> <span class="token operator">=</span> <span class="token string">"pantries"</span><span class="token builtin class-name">.</span><span class="token string">"recipe_id"</span> WHERE <span class="token string">"pantries"</span><span class="token builtin class-name">.</span><span class="token string">"ingredient_id"</span> <span class="token operator">=</span> ?  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"ingredient_id"</span>, <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><br><span class="token operator">=</span><span class="token operator">></span> <span class="token comment">#&lt;ActiveRecord::Associations::CollectionProxy [#&lt;Recipe id: 2, name: "Pot Pie", created_at: "2016-09-12 03:02:59", updated_at: "2016-09-12 03:02:59">]></span></code></pre>
<p>There it is!</p>
<p>The rails API has a nice table of the auto-generated methods as a result of using the association's macro-like class methods for tying objects together through foreign keys.</p>
<h4>Singular associations (one-to-one)</h4>
<pre class="language-bash"><code class="language-bash">                                  <span class="token operator">|</span>            <span class="token operator">|</span>  belongs_to  <span class="token operator">|</span><br>generated methods                 <span class="token operator">|</span> belongs_to <span class="token operator">|</span> :polymorphic <span class="token operator">|</span> has_one<br>----------------------------------+------------+--------------+---------<br>other<span class="token punctuation">(</span>force_reload<span class="token operator">=</span>false<span class="token punctuation">)</span>         <span class="token operator">|</span>     X      <span class="token operator">|</span>      X       <span class="token operator">|</span>    X<br><span class="token assign-left variable">other</span><span class="token operator">=</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span>                     <span class="token operator">|</span>     X      <span class="token operator">|</span>      X       <span class="token operator">|</span>    X<br>build_other<span class="token punctuation">(</span>attributes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token operator">|</span>     X      <span class="token operator">|</span>              <span class="token operator">|</span>    X<br>create_other<span class="token punctuation">(</span>attributes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>       <span class="token operator">|</span>     X      <span class="token operator">|</span>              <span class="token operator">|</span>    X<br>create_other<span class="token operator">!</span><span class="token punctuation">(</span>attributes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token operator">|</span>     X      <span class="token operator">|</span>              <span class="token operator">|</span>    X</code></pre>
<h4>Collection associations (one-to-many / many-to-many)</h4>
<pre class="language-bash"><code class="language-bash">                                  <span class="token operator">|</span>       <span class="token operator">|</span>          <span class="token operator">|</span> has_many<br>generated methods                 <span class="token operator">|</span> habtm <span class="token operator">|</span> has_many <span class="token operator">|</span> :through<br>----------------------------------+-------+----------+----------<br>others<span class="token punctuation">(</span>force_reload<span class="token operator">=</span>false<span class="token punctuation">)</span>        <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br><span class="token assign-left variable">others</span><span class="token operator">=</span><span class="token punctuation">(</span>other,other,<span class="token punctuation">..</span>.<span class="token punctuation">)</span>          <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>other_ids                         <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br><span class="token assign-left variable">other_ids</span><span class="token operator">=</span><span class="token punctuation">(</span>id,id,<span class="token punctuation">..</span>.<span class="token punctuation">)</span>             <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others<span class="token operator">&lt;&lt;</span>                          <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.push                       <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.concat                     <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.build<span class="token punctuation">(</span>attributes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>       <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.create<span class="token punctuation">(</span>attributes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.create<span class="token operator">!</span><span class="token punctuation">(</span>attributes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>     <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.size                       <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.length                     <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.count                      <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.sum<span class="token punctuation">(</span>*args<span class="token punctuation">)</span>                 <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.empty?                     <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.clear                      <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.delete<span class="token punctuation">(</span>other,other,<span class="token punctuation">..</span>.<span class="token punctuation">)</span>    <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.delete_all                 <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.destroy<span class="token punctuation">(</span>other,other,<span class="token punctuation">..</span>.<span class="token punctuation">)</span>   <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.destroy_all                <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.find<span class="token punctuation">(</span>*args<span class="token punctuation">)</span>                <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.exists?                    <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.distinct                   <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X<br>others.reset                      <span class="token operator">|</span>   X   <span class="token operator">|</span>    X     <span class="token operator">|</span>    X</code></pre>
<p>So in summary, it's a good idea to put some thought in the way you want to tie your models together before starting to implement any logic. Something that helps me is to draw the tables and draw arrows pointing to how they will relate. This paints a general picture how they will work together.</p>
<p>Here is the schema of models for a birds view.</p>
<pre class="language-ruby"><code class="language-ruby"><span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Schema</span><span class="token punctuation">.</span>define<span class="token punctuation">(</span>version<span class="token punctuation">:</span> <span class="token number">20160911232947</span><span class="token punctuation">)</span> <span class="token keyword">do</span><br><br>  create_table <span class="token string">"ingredients"</span><span class="token punctuation">,</span> force<span class="token punctuation">:</span> <span class="token symbol">:cascade</span> <span class="token keyword">do</span> <span class="token operator">|</span>t<span class="token operator">|</span><br>    t<span class="token punctuation">.</span>string   <span class="token string">"name"</span><br>    t<span class="token punctuation">.</span>datetime <span class="token string">"created_at"</span><span class="token punctuation">,</span> null<span class="token punctuation">:</span> <span class="token boolean">false</span><br>    t<span class="token punctuation">.</span>datetime <span class="token string">"updated_at"</span><span class="token punctuation">,</span> null<span class="token punctuation">:</span> <span class="token boolean">false</span><br>  <span class="token keyword">end</span><br><br>  create_table <span class="token string">"pantries"</span><span class="token punctuation">,</span> force<span class="token punctuation">:</span> <span class="token symbol">:cascade</span> <span class="token keyword">do</span> <span class="token operator">|</span>t<span class="token operator">|</span><br>    t<span class="token punctuation">.</span>integer  <span class="token string">"recipe_id"</span><br>    t<span class="token punctuation">.</span>integer  <span class="token string">"ingredient_id"</span><br>    t<span class="token punctuation">.</span>datetime <span class="token string">"created_at"</span><span class="token punctuation">,</span>    null<span class="token punctuation">:</span> <span class="token boolean">false</span><br>    t<span class="token punctuation">.</span>datetime <span class="token string">"updated_at"</span><span class="token punctuation">,</span>    null<span class="token punctuation">:</span> <span class="token boolean">false</span><br>  <span class="token keyword">end</span><br><br>  create_table <span class="token string">"recipes"</span><span class="token punctuation">,</span> force<span class="token punctuation">:</span> <span class="token symbol">:cascade</span> <span class="token keyword">do</span> <span class="token operator">|</span>t<span class="token operator">|</span><br>    t<span class="token punctuation">.</span>string   <span class="token string">"name"</span><br>    t<span class="token punctuation">.</span>datetime <span class="token string">"created_at"</span><span class="token punctuation">,</span> null<span class="token punctuation">:</span> <span class="token boolean">false</span><br>    t<span class="token punctuation">.</span>datetime <span class="token string">"updated_at"</span><span class="token punctuation">,</span> null<span class="token punctuation">:</span> <span class="token boolean">false</span><br>  <span class="token keyword">end</span><br><br><span class="token keyword">end</span></code></pre>

                                    
                            </div> <!-- End .content -->
                            <div class="line"></div>
                            <div class="share">
                                <div class="post-bottom">
                                    <div class="tag">
                                        <!-- <span>Tag:</span>
                                        <a href="#">lifestyle</a>
                                        <a href="#">music</a>
                                        <a href="#">rock</a> -->
                                    </div> <!-- End .continue -->
                                </div> <!-- End .post-bottom -->
                            </div> <!-- End .share -->
                        </div> <!--  End .post -->
                    </div> <!-- End .blog-post -->
                    
                    <div class="author-box">
                        <div class="photo">
                            <a href="#"><img src="/assets/img/blo/heber-sandoval.jpg" alt="Héber Sandoval"></a>
                        </div> <!-- End .photo -->
                        <div class="bio">
                            <h5><a href="">Héber Sandoval</a></h5>
                            <h6>Web developer</h6>
                            <p>As a Web Developer, I have the opportunity to contribute to innovations and break-through that can benefit the end user using vaires technologies.</p>
                            <div class="share-iocn">
                                <span class="social"><a href="https://github.com/hebersandoval"><i class="fas fa-github" target="_blank"></i></a></span>
                                <span class="social"><a href="mailto:&#104;&#101;&#051;&#101;&#114;&#115;&#064;&#103;&#109;&#097;&#105;&#108;&#046;&#099;&#111;&#109;"><i class="fas fa-envelope"></i></a></span>
                                <span class="social"><a href="https://www.linkedin.com/in/hebersandoval/" target="_blank"><i class="fas fa-linkedin"></i></a></span>
                            </div> <!-- End .share-iocn -->
                        </div> <!-- End .bio -->
                    </div> <!-- End .author-box -->

                    <!-- Related post section --->
                    
                    <!-- Blog comment section -->

                    <!-- Reply comment section -->
                    <br><br><br><br>

                </div>
                <!--
                ===============
                End .primary 
                ===============
                -->
            </div> <!-- End .col-md-12 -->
        </div> <!-- End .row -->
    </div> <!-- End .container -->
</section>
<!--
=======================
    End Section Content
=======================
-->

    <footer class="bg-dark">
        <!-- <div class="bg-primary py-5 text-white">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                        <div class="d-flex align-items-center">
                            <h6 class="h1 mb-0">705</h6>
                            <p class="ml-3 flex-grow-1 text-uppercase mb-0">Projects completed</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                        <div class="d-flex align-items-center">
                            <h6 class="h1 mb-0">809</h6>
                            <p class="ml-3 flex-grow-1 text-uppercase mb-0">Satisfied customers</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                        <div class="d-flex align-items-center">
                            <h6 class="h1 mb-0">354</h6>
                            <p class="ml-3 flex-grow-1 text-uppercase mb-0">Awards recieved</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                        <div class="d-flex align-items-center">
                            <h6 class="h1 mb-0">35</h6>
                            <p class="ml-3 flex-grow-1 text-uppercase mb-0">Years of experience</p>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
        <div class="bg-dark py-5 text-white">
            <div class="container">
                <div class="row py-5">
                    <div class="col-lg-4 col-md-6"><img class="mb-4" src="/assets/img/logo-white.svg" alt="" width="200">
                        <p class="text-muted text-small mb-4">Building software solutions that deliver personalized user experiences.</p>
                        <p class="mb-1"><i class="fas fa-envelope mr-3 text-primary fa-fw"></i><span
                                class="text-small text-muted">&#104;&#101;&#051;&#101;&#114;&#115;&#064;&#103;&#109;&#097;&#105;&#108;&#046;&#099;&#111;&#109;</span></p>
                        <p class="mb-1"><i class="fas fa-mobile mr-3 text-primary fa-fw"></i><span
                                class="text-small text-muted">‪(&#057;&#048;&#056;)&#032;&#051;&#055;&#054;&#045;&#054;&#053;&#054;&#054;</span></p>
                        <p class="mb-1"><i class="fas fa-map-marker-alt mr-3 text-primary fa-fw"></i><span
                                class="text-small text-muted">Union, New Jersey</span></p>
                    </div>
                    <div class="col-lg-2 col-md-6">
                        <h5 class="mt-3 mb-4 font-weight-normal">Quick links</h5>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a class="footer-link" href="/">Home</a></li>
                            <li class="mb-2"><a class="footer-link" href="/about">About</a></li>
                            <li class="mb-2"><a class="footer-link" href="/contact">Contact</a></li>
                            <li class="mb-2"><a class="footer-link" href="/blog">Blog</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-md-6">
                        <h5 class="mt-3 mb-4 font-weight-normal">Our services</h5>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a class="footer-link" href="/contact">Make Appointment</a></li>
                            <li class="mb-2"><a class="footer-link" href="/about">Our Services</a></li>
                            <!-- <li class="mb-2"><a class="footer-link" href="#">Department Service</a></li> -->
                            <!-- <li class="mb-2"><a class="footer-link" href="#">Our Case Studies</a></li> -->
                            <li class="mb-2"><a class="footer-link" href="/contact">Free Consultation</a></li>
                            <!-- <li class="mb-2"><a class="footer-link" href="#">Meet Our Experts</a></li> -->
                        </ul>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <h5 class="mt-3 mb-4 font-weight-normal">Latest news</h5>
                        <ul class="list-unstyled mb-0">
                            <li class="d-flex mb-4">
                                <div class="pr-2"><img src="/assets/img/blog-thumb-1.jpg" alt="" width="60"></div>
                                <div class="ml-3">
                                    <p class="small text-muted mb-0">May 01, 2019 </p>
                                    <h6 class="text-light font-weight-normal mb-0">Successful Growth In Business 2018
                                    </h6><a class="reset-anchor text-primary text-small" href="#">Read more<i
                                            class="fas fa-angle-right ml-2"></i></a>
                                </div>
                            </li>
                            <li class="d-flex">
                                <div class="pr-2"><img src="/assets/img/blog-thumb-2.jpg" alt="" width="60"></div>
                                <div class="ml-3">
                                    <p class="small text-muted mb-0">May 01, 2019 </p>
                                    <h6 class="text-light font-weight-normal mb-0">Successful Growth In Business 2018
                                    </h6><a class="reset-anchor text-primary text-small" href="#">Read more<i
                                            class="fas fa-angle-right ml-2"></i></a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-darker py-4">
            <div class="container text-center">
                <!-- You are completely free to use this template for your personal use or as a work for your client as long as you keep the link at the template footer pointing to our partner and us.-->
                <!-- If you would prefer removing the backlink from the theme footer, please purchase the attribution-free license at the theme page at https://bootstraptemple.com.-->
                <p class="mb-0 text-muted text-small">&copy; All rights reserved. Template designed by <a
                        href="https://bootstraptemple.com/p/consulting-bootstrap-template">Bootstrap Temple</a>. </p>
            </div>
        </div>
    </footer>
    <!-- JavaScript files-->
    <script src="/assets/vendor/jquery/jquery.min.js"></script>
    <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/vendor/owl.carousel2/owl.carousel.min.js"></script>
    <script src="/assets/vendor/modal-video/js/modal-video.js"></script>
    <script src="/assets/vendor/leaflet/leaflet.js"></script>
    <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBu5nZKbeK-WHQ70oqOWo-_4VmwOwKP9YQ"></script> -->
    <script src="/assets/js/leaflet.js"></script>
    <script src="/assets/js/front.js"></script>
    <script>
        // ------------------------------------------------------- //
        //   Inject SVG Sprite - 
        //   see more here 
        //   https://css-tricks.com/ajaxing-svg-sprite/
        // ------------------------------------------------------ //
        function injectSvgSprite(path) {

            var ajax = new XMLHttpRequest();
            ajax.open("GET", path, true);
            ajax.send();
            ajax.onload = function (e) {
                var div = document.createElement("div");
                div.className = 'd-none';
                div.innerHTML = ajax.responseText;
                document.body.insertBefore(div, document.body.childNodes[0]);
            }
        }
        // this is set to BootstrapTemple website as you cannot 
        // inject local SVG sprite (using only 'icons/orion-svg-sprite.svg' path)
        // while using file:// protocol
        // pls don't forget to change to your domain :)
        injectSvgSprite('https://bootstraptemple.com/files/icons/orion-svg-sprite.svg');

    </script>
    <!-- FontAwesome CSS - loading as last, so it doesn't block rendering-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</body>

</html>